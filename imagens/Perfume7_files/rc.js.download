function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _iterableToArrayLimit(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}this.window=this.window||{},this.window.NavigationCapture=function(e){"use strict";var n=2;function t(e){e=new RegExp("(^| )".concat(e,"=([^;]+)")),e=document.cookie.match(e);if(e)return decodeURI(e[n])}function r(e,n,t){var r=encodeURI(n),o=window.location.hostname,n=new Date;n.setTime(n.getTime()+t);n=n.toUTCString();document.cookie="".concat(e,"=").concat(r,"; expires=").concat(n,"; path=/; domain=").concat(o)}var o="VtexRCSessionIdv7",a="VtexWorkspace",i="VtexRCMacIdv7",s=18e5;function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})}function u(){var e=null!==(e=w())&&void 0!==e?e:c();return r(o,e,s),e}function l(){var e=t(i),n=null!=e?e:c();return r(i,n,31536e6),{macID:n,isNewUser:!e}}function d(){return{sessionID:w(),userSessionInfo:l(),workspace:null!==(e=null!==(e=null!==(e=function(){var e=new RegExp(/[?&]workspace=([^&]+)(&|$)/).exec(window.location.search);return null==e?void 0:e[1]}())&&void 0!==e?e:function(){var e;return null===(e=null===window||void 0===window?void 0:window.__RUNTIME__)||void 0===e?void 0:e.workspace}())&&void 0!==e?e:function(){var e=t(a);return _slicedToArray(null!==(e=null==e?void 0:e.split(":"))&&void 0!==e?e:[],1)[0]}())&&void 0!==e?e:"master",pageTitle:document.title,url:window.location.href,ref:window.document.referrer,path:window.location.pathname,hostName:window.location.hostname,accountName:null!==(e=null===(e=window.__RUNTIME__)||void 0===e?void 0:e.account)&&void 0!==e?e:window.jsnomeLoja};var e}function w(){return t(o)}var v,m,p="https://rc.vtex.com.br/api/events",f="Event",y=1e4;function x(e){if(null!=e&&e.namespace&&e.name&&null!=e.value)return h("CustomMetric",e);e=e?e.namespace?e.name?"metric.value":"metric.name":"metric.namespace":"metric";return console.error("".concat(e," is not defined"))}function h(i,s){return i?new Promise(function(e){var n,t,r,o=(n=i,t=s,r=Object.assign({},t),t=d(),t=Object.assign(Object.assign({},r),{DataType:r.DataType||f,RequestType:n,SessionId:t.sessionID,MacId:t.userSessionInfo.macID,IsNewUser:t.userSessionInfo.isNewUser,workspace:t.workspace,Url:t.url,Ref:t.ref,Path:t.path,HostName:t.hostName,pageTitle:t.pageTitle,accountName:t.accountName}),JSON.stringify(t)),a=new XMLHttpRequest;a.timeout=y,a.open("POST",p),a.setRequestHeader("Content-Type","application/json"),a.send(o),a.onload=function(){if(200===a.status||202===a.status)return u(),e(o)}}):console.error("Event name is not defined")}function T(e){"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,1)}function g(){"complete"===document.readyState?b():window.attachEvent?window.attachEvent("onload",b):window.addEventListener("load",b,!1),window.history.pushState=_("pushState"),window.history.replaceState=_("replaceState")}function b(){T(function(){var e,n=performance.timing,t=performance.getEntriesByType("navigation")[0],n=t?(e={pageLoadTime:t.duration,pageRenderTime:t.loadEventEnd-t.responseEnd,timeToFirstByte:t.responseStart-t.startTime,domLoadTime:t.domComplete-t.responseEnd},t.domContentLoadedEventEnd-t.responseStart):(e={pageLoadTime:n.loadEventEnd-n.navigationStart,pageRenderTime:n.loadEventEnd-n.responseEnd,timeToFirstByte:n.responseStart-n.navigationStart,domLoadTime:n.domComplete-n.responseEnd},n.domContentLoadedEventEnd-n.responseStart),n={NetworkingTime:e.timeToFirstByte,PageRenderingTime:e.pageRenderTime,DomProcessingTime:n};h("PerformanceTiming",e),h("Timing",n)})}function _(a){var i=window.history[a];return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=i.apply(this,n),o=new Event(a.toLowerCase());return o.arguments=n,window.dispatchEvent(o),r}}function E(){window.vtexrca&&(Object.defineProperty(window.vtexrca.q,"push",{value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.forEach(I)}}),function(){for(;0<window.vtexrca.q.length;)!function(){var e=window.vtexrca.q.shift();T(function(){return I(e)})}()}())}function I(e){var e=_toArray(e),n=e[0],t=e.slice(1);switch(n.toLowerCase()){case"sendevent":var r=_slicedToArray(t,2);h(r[0],r[1]);break;case"sendmetric":x(_slicedToArray(t,1)[0]);break;case"init":break;default:console.error("invalid method name: ".concat(n))}}return window.vtex&&window.vtex.events?null!==(m=null===(v=null===(m=window.vtex)||void 0===m?void 0:m.events)||void 0===v?void 0:v.subscribe)&&void 0!==m&&m.call(v,"NavigationCapture",h):(window.vtex||(window.vtex={}),window.vtex.events={},window.vtex.events.listeners={},window.vtex.events.listeners.NavigationCapture={callback:h,whitelist:[],blacklist:[]}),u(),g(),E(),e.sendEvent=h,e.sendMetric=x,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=rc.js.map
